function(doc)
{
  if(doc.type == 'shift')
  {
    var ret = new Document();
    ret.add(doc.summary);
    return ret;
  }
  return null;
}

function(doc)
{
  if(doc.type == 'shift')
  {
    var ret = new Document();
    ret.add(doc.href, {field:"href"});
    ret.add(doc.href.substr(7, doc.href.length).split("/")[0], {field:"domain"});
    ret.add(doc.publishData.streams.join(" "), {field:"streams"});
    ret.add(doc.publishData.private, {field:"private"});
    ret.add(doc.publishData.draft, {field:"draft"});
    ret.add(doc.modified, {field:"modified"});
    return ret;
  }
  return null;
}

q=(href:href OR
   domain:domain OR
   streams:user_streamA user_streamB user_streamC user_streamD user_streamE) AND
   draft:false
limit=25&
skip=0&
sort=modified
  